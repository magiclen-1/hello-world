language: rust

rust:
  - stable
  - beta
  - nightly

os:
  - linux
  - osx
  - windows

env:
  -
  - NO_DEFAULT_FEATURES=1
  - NO_DEFAULT_FEATURES=1 FEATURES="std"

script:
  - if [ ! -z "$NO_DEFAULT_FEATURES" ] ; then NO_DEFAULT_FEATURES="--no-default-features"; fi
  - cargo test --verbose $NO_DEFAULT_FEATURES --features "$FEATURES"